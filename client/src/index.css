@import "tailwindcss";

/* ========================================
   VIEWPORT HEIGHT FIX FOR MOBILE BROWSERS
   ======================================== */
/* Small Viewport Height - accounts for browser UI (address bar/bottom nav) */
@supports (height: 100svh) {

  /* Modern browsers: svh = smallest viewport (with UI visible) */
  html {
    height: 100svh;
  }
}

/* Fallback: Use 100vh for older browsers */
@supports not (height: 100svh) {
  html {
    height: 100vh;
  }
}

/* CSS custom properties for viewport heights */
:root {
  /* Small viewport (when browser UI is visible) - prevents content overlap */
  --vh-full: 100svh;
  --vh-half: 50svh;
  --vh-quarter: 25svh;
  /* Fallback for older browsers */
  --vh-full-fallback: 100vh;
}

/* Mobile performance: Disable all animations on mobile devices */
@media (max-width: 768px) {
  * {
    animation: none !important;
    transition: none !important;
    animation-duration: 0s !important;
    animation-delay: 0s !important;
  }

  /* Disable backdrop-blur on mobile for performance */
  .backdrop-blur-md,
  .backdrop-blur-sm,
  [class*="backdrop-blur"] {
    backdrop-filter: none !important;
  }
}

/* Reduce motion for all users with prefers-reduced-motion */
@media (prefers-reduced-motion: reduce) {

  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* Global scroll management */
html {
  margin: 0;
  padding: 0;
  overflow-x: hidden;
  overflow-y: auto;
  background-color: #0a0a0a;
  scroll-behavior: smooth;
}

body {
  margin: 0;
  padding: 0;
  background-color: #0a0a0a;
  width: 100%;
  min-height: 100svh;
  /* Allow natural scrolling - do NOT use overflow: hidden */
  overflow-x: hidden;
  overflow-y: auto;
}

/* Scroll lock - ONLY when explicitly needed (modals, overlays) */
html.scroll-locked,
body.scroll-locked {
  overflow: hidden !important;
  height: 100svh !important;
}

body.scroll-locked {
  position: fixed !important;
  width: 100% !important;
}

/* Retro Terminal Styles */
.terminal-screen {
  text-shadow: 0 0 5px rgba(34, 197, 94, 0.5), 0 0 10px rgba(34, 197, 94, 0.3);
  animation: flicker 0.15s infinite alternate;
}

.terminal-text {
  filter: contrast(1.2) brightness(1.1);
}

@keyframes flicker {

  0%,
  100% {
    opacity: 0.98;
  }

  50% {
    opacity: 1;
  }
}

@keyframes scanline {
  0% {
    transform: translateY(0);
  }

  100% {
    transform: translateY(100%);
  }
}

.animate-scanline {
  animation: scanline 8s linear infinite;
}

.bg-scanline {
  background: linear-gradient(to bottom,
      transparent 0%,
      rgba(34, 197, 94, 0.05) 50%,
      transparent 100%);
  background-size: 100% 4px;
}

/* Custom scrollbar for terminal */
.terminal-screen::-webkit-scrollbar {
  width: 8px;
}

.terminal-screen::-webkit-scrollbar-track {
  background: #000;
}

.terminal-screen::-webkit-scrollbar-thumb {
  background: #22c55e;
  border-radius: 4px;
  box-shadow: 0 0 5px rgba(34, 197, 94, 0.5);
}

.terminal-screen::-webkit-scrollbar-thumb:hover {
  background: #16a34a;
}

/* Win95 3D Border Effects */
.win95-border-raised {
  border-top: 2px solid #ffffff;
  border-left: 2px solid #ffffff;
  border-right: 2px solid #808080;
  border-bottom: 2px solid #808080;
}

.win95-border-inset {
  border-top: 2px solid #808080;
  border-left: 2px solid #808080;
  border-right: 2px solid #ffffff;
  border-bottom: 2px solid #ffffff;
}

.win95-button {
  background: #c0c0c0;
  border-top: 2px solid #ffffff;
  border-left: 2px solid #ffffff;
  border-right: 2px solid #000000;
  border-bottom: 2px solid #000000;
}

.win95-button:active {
  border-top: 2px solid #000000;
  border-left: 2px solid #000000;
  border-right: 2px solid #ffffff;
  border-bottom: 2px solid #ffffff;
}

/* Desktop Background */
.win95-desktop {
  background: #008080;
  /* Teal Win95 default */
}

/* Spy Theme Accents */
.spy-accent-red {
  color: #dc2626;
  text-shadow: 0 0 10px rgba(220, 38, 38, 0.5);
}

.spy-accent-yellow {
  color: #eab308;
  text-shadow: 0 0 10px rgba(234, 179, 8, 0.5);
}


/* Utility to hide scrollbar but allow scrolling */
.hide-scrollbar::-webkit-scrollbar {
  display: none;
}

.hide-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

/* Hide Navbar during active operations (modals) */
body.modal-open nav {
  display: none !important;
}